(()=>{"use strict";var e={d:(t,o)=>{for(var s in o)e.o(o,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:o[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}};(()=>{var t={};e.r(t),e.d(t,{$:()=>i,$$:()=>r,css:()=>u,dom:()=>l,each:()=>a,locale:()=>p,log:()=>n,merge:()=>c,script:()=>d,xhr:()=>g});let o=window,s=document;function n(){let e=new Date,t=Array.prototype.slice.apply(arguments);t.unshift(e.toLocaleTimeString()),console.log.apply(console,t)}function i(e){return s.querySelector(e)}function r(e){return s.querySelectorAll(e)}function a(e,t){if(e instanceof Array||e instanceof o.NodeList)e.forEach(t);else for(let o in e)t(o,e[o])}function c(e,t){a(t,((o,s)=>{e[o]instanceof Object||e[o]instanceof Array?c(e[o],t[o]):e[o]=s}))}function l(e,t){let n=new RegExp("^(?:([^:]+):)?([^#.]+)(?:#([^.]+))?(?:.(.+))?$"),[i,r,c,d,u]=e.tag.match(n),p=s.createElement(c);return e.atts||(e.atts={}),d&&(e.atts.id=d),u&&(e.atts.class=u.replace(/\./g," ")),r&&(e.map=r),a(e.atts,((e,t)=>{p.setAttribute(e,t)})),e.html&&(p.innerHTML=e.html),a(e.evts||{},((e,t)=>{p.addEventListener(e,t,!0)})),a(e.child||[],(e=>{e instanceof o.HTMLElement?p.appendChild(e):p.appendChild(l(e,t))})),e.map&&(t[e.map]=p),p}function d(e,t=!0,o=!0){if(!e)return null;let n=s.querySelector("script"),i=l({tag:"script",atts:{async:t,src:e}});return o?n.parentNode.insertBefore(i,n):(s.body||s.head).appendChild(i),i}function u(e,t,o){e.classList.toggle(t,o)}function p(e,t="en"){let o=!1;return a(navigator.languages,(t=>{o||(!e[t]&&t.length>2&&(t=t.substr(0,2)),e[t]&&(o=t))})),o||t}function g(e,t="get",s=null){let n=new o.XMLHttpRequest;return new Promise(((o,i)=>{n.addEventListener("load",(()=>{o(n)})),n.addEventListener("error",(()=>{i(n.status)})),"post"!==t&&s&&(e+="?"+s,s=null),n.open(t.toUpperCase(),e),n.withCredentials=!0,"post"===t&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(s)}))}const m={fr:{msg:{first:"<p><strong>Nous respectons votre vie priv√©e</strong>, et c'est pourquoi nous ne collectons pour l'instant que des statistiques anonymis√©es de votre visite.</p><p>Vous pouvez <strong>Continuer</strong> votre navigation ainsi, <strong>Tout accepter</strong> ou d√©finir vos <strong>Pr√©f√©rences</strong>.</p>",dnt:"<p><strong>Nous respectons votre vie priv√©e, et vous avez activ√© l'option <em>Do Not Track</em></strong> de votre naviguateur, aussi aucun service n'a pour l'instant √©t√© activ√©.</p><p>Vous pouvez pour ce site autoriser la collecte de statistiques anonymis√©es (<strong>Discreto</strong>), <strong>Tout accepter</strong> ou d√©finir vos <strong>Pr√©f√©rences</strong>.</p>",prefs:"<p><strong>Choisissez les services que vous souhaitez activer sur ce site</strong>, puis cliquez sur <strong>Enregistrer</strong>.</p><p>Vous pouvez n'autoriser que les statistiques anonymis√©es (<strong>Anonyme</strong>), ou m√™me d√©sactiver tous les services (<strong>Invisible</strong>).</p>",cookie:"<p><strong>Vous avez activ√© {active} service(s)</strong> sur {total}.</p><p>Cliquez sur <strong>Pr√©f√©rences</strong> pour modifier vos choix.</p>",anon:"<p><strong>Vous naviguez anonymement</strong>, avec {active} service(s) activ√©(s) sur {total}.</p><p>Cliquez sur <strong>Pr√©f√©rences</strong> pour modifier vos choix.</p>",ghost:"<p><strong>Vous √™tes actuellement invisible</strong> et aucun service n'a √©t√© activ√©.</p><p>Cliquez sur <strong>Pr√©f√©rences</strong> pour modifier vos choix.</p>",more:"<p><strong>Afin d'am√©liorer la qualit√© de nos services</strong>, nous avons ajout√© {more} service(s).</p><p>Vous pouvez le(s) <strong>Accepter</strong>, le(s) <strong>Refuser</strong> ou d√©finir vos <strong>Pr√©f√©rences</strong>.</p>",remote:"<p><strong>Vos pr√©f√©rences ont √©t√© reprises de vos choix pr√©c√©dents</strong>, avec {active} service(s) activ√©(s) sur {total}.</p><p>Vous pouvez <strong>Continuer</strong> ainsi, n'activer sur ce site que les statistiques anonymis√©es (<strong>Discreto</strong>), ou d√©finir vos <strong>Pr√©f√©rences</strong>.</p>",almost:"<p><strong>Vos pr√©f√©rences ont √©t√© reprises de vos choix pr√©c√©dents</strong>, mais {more} autre(s) service(s) sur ce site n√©cessite(nt) votre consentement.</p><p>Vous pouvez le(s) <strong>Accepter</strong>, le(s) <strong>Refuser</strong> ou d√©finir vos <strong>Pr√©f√©rences</strong>.</p>",error:"<p>Impossible de r√©cup√©rer les informations, veuillez r√©-essayer.</p>",thanks:'Merci <a target="_blank" href="https://discre.to" rel="nofollow">discreto</a> (<a target="_blank" href="https://discre.to/abuse" rel="nofollow">signaler un abus</a>)',undef:"<big>ü§ï</big><p>Aucun consentement n'est pr√©vu pour {title}, cette fen√™tre a √©t√© bloqu√©e&nbsp;:<br/>{src}</p>",choose:"<big>ü§î</big><p>Acceptez les conditions du service {title} pour afficher la fen√™tre&nbsp;:<br/>{src}</p>",block:"<big>ü§´</big><p>Vous avez choisi de bloquer les fen√™tres {title}</p>"},btns:{continue:"Continuer",discreto:"Discreto",prefs:"Pr√©f√©rences",cognito:"Tout accepter",incognito:"Tout refuser",anonymous:"Anonyme",ghost:"Invisible",save:"Enregistrer",ok:"OK",allow:"Accepter",deny:"Refuser",keep:"Continuer",about:"√† propos",cookie:"en savoir plus",domains:"domaines",share:"en savoir plus",once:"Accepter",always:"Toujours accepter sur ce site",force:"Afficher tout de m√™me"},options:{cookie:"Cookie de consentement",domains:"Appliquer pour tous nos domaines",share:"Enregistrer mes choix sur discre.to"},about:{unknown:"<p>La description de ce service est manquante, veuillez le signaler au webmaster du site.</p>",_discreto:"<p>Afin de se souvenir de vos choix, un cookie est d√©pos√© dans votre navigateur. Il ne contient aucune information personnelle vous concernant.</p><p>Ce cookie, nomm√© <code>{name}</code>, est valable {days} jours.</p><p><strong>Ce service est indispensable et ne peut √™tre d√©sactiv√©.</strong></p>"},types:{audience:"Mesure d'audience",social:"Partage et r√©seaux sociaux",media:"Lecteurs audio/vid√©o",reader:"Lecteurs de document",ads:"Ciblage publicitaire",comments:"Commentaires",misc:"Divers",advanced:"Options"},services:{"analytics-anon":"Google Analytics (IP anonymis√©e)",analytics:"Google Analytics","analyticsGA-anon":"Google Analytics (IP anonymis√©e)",analyticsGA:"Google Analytics","matomo-anon":"Matomo (anonymis√©)",matomo:"Matomo",hotjar:"HotJar (anonymis√©)",koban:"Koban",mautic:"Mautic",facebookPixel:"Facebook Pixel",twitterPixel:"Twitter Pixel",xiti:"Xiti","xiti-anon":"Xiti (anonymis√©)",yahooDots:"Verizon Analytics",verizon:"Verizon Analytics",addthis:"AddThis",addtoany:"AddToAny",sharethis:"ShareThis","dailymotion-api":"Dailymotion (API)",dailymotion:"Dailymotion (embed)","vimeo-api":"Vimeo (API)",vimeo:"Vimeo (embed)","youtube-api":"YouTube (API)",youtube:"YouTube (embed)","soundcloud-api":"SoundCloud (API)",soundcloud:"SoundCloud (embed)",calameo:"Calameo",issuu:"Issuu",prezi:"Prezi",slideshare:"Slideshare","adsense-optout":"AdSense (sans ciblage)",adsense:"AdSense",adwords:"AdWords",amazonAds:"Amazon",criteo:"Criteo",linkedinInsight:"LinkedIn Insight & Conversion",microsoftAds:"Microsoft Advertising (ex Bing Ads)",twitterAds:"Twitter Ads",facebook:"Partage Facebook",linkedin:"Partage LinkedIn",twitter:"Partage Twitter",pinterest:"Partage Pinterest",disqus:"Commentaires Disqus",facebookComments:"Facebook Comments","googleMaps-api":"Google Maps (API)",googleMaps:"Google Maps (embed)",googleFonts:"Google Fonts",optimize:"Google Optimize",typekit:"TypeKit",recaptcha:"Google ReCaptcha (v3)",recaptchaV2:"Google ReCaptcha (v2)"}},en:{msg:{first:"<p><strong>We respect your privacy</strong>, which is why we only collect anonymized statistics of your visit at this time.</p><p>You can <strong>Continue</strong> browsing this way, <strong>Accept all</strong> services or set your <strong>Preferences</strong>.</p>",dnt:"<p><strong>We respect your privacy, and you have activated the <em>Do Not Track</em> option of your browser</strong>, so no service has yet been enabled.</p><p>You can authorize anonymized statistics of your visit on this site (<strong>Discreto</strong>), <strong>Accept all</strong> or set your <strong>Pr√©f√©rences</strong>.</p>",prefs:"<p><strong>Choose the services you want to enable on this site</strong>, then click <strong>Save</strong>.</p><p>You can allow anonymized statistics only (<strong>Anonymous</strong>), or even disable all services (<strong>Invisible</strong>).</p>",cookie:"<p><strong>You have enabled {active} service(s)</strong> out of {total}.</p><p>Click <strong>Preferences</strong> to modify your choices.</p>",anon:"<p><strong>Vous are currently browsing anonymously</strong>, with {active} service(s) enabled out of {total}.</p><p>Click <strong>Preferences</strong> to modify your choices.</p>",ghost:"<p><strong>You are currently invisible</strong> with no service enabled.</p><p>Click <strong>Preferences</strong> to modify your choices.</p>",more:"<p><strong>In order to improve the quality of our services</strong>, we have added {more} service(s).</p><p>You can <strong>Accept</strong> or <strong>Refuse</strong> them, or set your <strong>Preferences</strong>.</p>",remote:"<p><strong>Your preferences have been retrieved from your previous choices</strong>, avec {active} service(s) enabled out of {total}.</p><p>You can <strong>Continue</strong> like this, allow only anonymous statistics of your visit on this site (<strong>Discreto</strong>), or set your <strong>Preferences</strong>.</p>",almost:"<p><strong>Your preferences have been retrieved from your previous choices</strong>, but {more} other service(s) on this site require(s) your consent.</p><p>You can <strong>Accept</strong> or <strong>Refuse</strong> them, or set your <strong>Preferences</strong>.</p>",error:"<p>Cannot gather information about this service, please try again later.</p>",thanks:'Thank you <a target="_blank" href="https://discre.to" rel="nofollow">discreto</a> (<a target="_blank" href="https://discre.to/abuse" rel="nofollow">report abuse</a>)',undef:"<big>ü§ï</big><p>No consent has been asked for {title}, this window has been blocked:<br/>{src}</p>",choose:"<big>ü§î</big><p>Please accept {title} terms of service to show this window:<br/>{src}</p>",block:"<big>ü§´</big><p>You've chosen to block {title} windows</p>"},btns:{continue:"Continue",discreto:"Discreto",prefs:"Preferences",cognito:"Accept all",incognito:"Refuse all",anonymous:"Anonymous",ghost:"Invisible",save:"Save",ok:"OK",allow:"Accept",deny:"Refuse",keep:"Continue",about:"about",cookie:"learn more",domains:"domains",share:"learn more",once:"Accept",always:"Always accept on this site",force:"Accept anyway"},options:{cookie:"Consent cookie",domains:"Apply for all our domains",share:"Save my preferences on discre.to"},about:{unknown:"<p>This service has no description yet, please report it to the webmaster.</p>",_discreto:"<p>In order to remember your choices on this device, a cookie is stored in your browser. It doesn't contain any personal information about you.</p><p>This cookie is named <code>{name}</code>, and is valid for {days} jours.</p><p><strong>This service is essential and cannot be disabled.</strong></p>"},types:{audience:"Audience measurement",social:"Share and social networks",media:"Media players",reader:"Document viewers",ads:"Advertising targeting",comments:"Comments",misc:"Miscellaneous",advanced:"Options"},services:{"analytics-anon":"Google Analytics (IP anonymization)",analytics:"Google Analytics","analyticsGA-anon":"Google Analytics (IP anonymization)",analyticsGA:"Google Analytics","matomo-anon":"Matomo (anonymized)",matomo:"Matomo",hotjar:"HotJar (anonymized)",koban:"Koban",mautic:"Mautic",facebookPixel:"Facebook Pixel",twitterPixel:"Twitter Pixel",xiti:"Xiti","xiti-anon":"Xiti (anonymized)",yahooDots:"Verizon Analytics",verizon:"Verizon Analytics",addthis:"AddThis",addtoany:"AddToAny",sharethis:"ShareThis","dailymotion-api":"Dailymotion (API)",dailymotion:"Dailymotion (embed)","vimeo-api":"Vimeo (API)",vimeo:"Vimeo (embed)","youtube-api":"YouTube (API)",youtube:"YouTube (embed)","soundcloud-api":"SoundCloud (API)",soundcloud:"SoundCloud (embed)",calameo:"Calameo",issuu:"Issuu",prezi:"Prezi",slideshare:"Slideshare","adsense-optout":"AdSense (no targeting)",adsense:"AdSense",adwords:"AdWords",amazonAds:"Amazon",criteo:"Criteo",linkedinInsight:"LinkedIn Insight & Conversion",microsoftAds:"Microsoft Advertising (ex Bing Ads)",twitterAds:"Twitter Ads",facebook:"Share on Facebook",linkedin:"Share on LinkedIn",twitter:"Share on Twitter",pinterest:"Share on Pinterest",disqus:"Disqus comments",facebookComments:"Facebook Comments","googleMaps-api":"Google Maps (API)",googleMaps:"Google Maps (embed)",googleFonts:"Google Fonts",optimize:"Google Optimize",typekit:"TypeKit",recaptcha:"Google ReCaptcha (v3)",recaptchaV2:"Google ReCaptcha (v2)"}}},h={debug:!1,gui:{pos:"left",hide:!1,logo:!1,block:!1,urge:!1,css:!1,lang:"fr"},cookie:{name:"discreto",days:365,path:"/",wild:!1,share:!1,url:"https://cookie.discre.to"},ids:{},services:{}},f={};let v=window,b=document;f.nil={},f.script={start:e=>{e.forEach((e=>{let t=b.createElement("script");t.setAttribute("async",!0),t.src=e,f.box.appendChild(t)}))}},f.html={init:e=>(e&&(f.html.box=b.getElementById(e)),f.html.box||(f.html.box=f.box),null),start:e=>{e.forEach((e=>{let t=b.createElement("template"),o=b.createElement("div"),s=[];e=e.replace(/<script>(.*)<\/script>/g,((e,t)=>(s.push(t),""))),t.innerHTML=e,o.appendChild(t.content),s.forEach((e=>{let t=b.createElement("script");t.innerHTML=e,o.appendChild(t)})),f.html.box.appendChild(o)}))}},f.iframe={frames:[],init:e=>(f.iframe.template=b.createElement("iframe"),f.iframe.template.className="noscript",null),start:e=>{e.forEach((e=>{let t=f.iframe.template.cloneNode(!0);t.src=e,f.iframe.frames.push(t),f.box.appendChild(t)}))},send:e=>{f.iframe.frames.forEach((t=>{t.contentWindow.postMessage(e,"*")}))}},f.gtm={init:e=>{let t=(new Date).getTime();return v.dataLayer=v.dataLayer=[],v.dataLayer.push({event:"gtm.js","gtm.start":t}),"https://www.googletagmanager.com/gtm.js?id="+e},start:e=>{v.dataLayer.push({event:"discreto",service:"|"+e.join("|")+"|"})}},f.gtag={anon:!1,init:(e,t)=>(t&&(f.gtag.anon=!0),v.gtag?null:(v.dataLayer=v.dataLayer||[],(v.gtag=function(){v.dataLayer.push(arguments)})("js",new Date),"https://www.googletagmanager.com/gtag/js?id="+e)),start:e=>{e.forEach((e=>{let t=f.gtag.anon?{anonymize_ip:!0}:{};v.gtag("config",e,t)}))},track:(e,t,o)=>{v.gtag("event",e,{event_category:"discreto",event_label:t,value:o})}},f.analyticsGA={init:(e,t)=>{if(v.ga)return null;v.GoogleAnalyticsObject="ga";let o=v.ga=function(){o.q.push(arguments)};return o.q=[],o.l=1*new Date,o("create",e,"auto"),t&&o("set","anonymizeIp",!0),"https://www.google-analytics.com/analytics.js"},start:e=>{e.forEach((e=>v.ga("send",e)))},track:(e,t,o)=>{v.ga("send","event","discreto",e,t,o)}},f.analytics={init:f.gtag.init,start:f.gtag.start,track:f.gtag.track},f.matomo={init:(e,t)=>{let o=v._paq=v._paq||[];return o.push(["setTrackerUrl",e.url+"matomo.php"]),o.push(["setSiteId",e.id]),"/"!==e.url.charAt(e.url.length-1)&&(e.url+="/"),(e.cdn||e.url)+"matomo.js"},start:e=>{e.forEach((e=>v._paq.push([e])))},track:(e,t,o)=>{v._paq.push(["trackEvent","discreto",e,t,o])}},f.hotjar={init:e=>{if(v.hj)return null;v._hjSettings={hjid:e,hjsv:6};let t=v.hj=function(){t.q.push(arguments)};return t.q=[],"//static.hotjar.com/c/hotjar-"+e+".js?sv=6"}},f.facebookPixel={std:["AddPaymentInfo","AddToCart","AddToWishlist","CompleteRegistration","Contact","CustomizeProduct","Donate","FindLocation","InitiateCheckout","Lead","Purchase","Schedule","Search","StartTrial","SubmitApplication","Subscribe","ViewContent"],init:e=>{if(v.fbq)return null;let t=v.fbq=function(){t.callMethod?t.callMethod.apply(t,arguments):t.queue.push(arguments)};return v._fbq||(v._fbq=t),t.push=t,t.loaded=!0,t.version="2.0",t.queue=[],t("init",e),"https://connect.facebook.net/en_US/fbevents.js"},start:e=>{e.forEach((e=>{let t=f.facebookPixel.std.includes(e);v.fbq(t?"track":"trackCustom",e)}))}},f.mautic={init:e=>{if(v.mt)return null;v.MauticTrackingObject="mt";let t=v.mt=function(){t.q.push(arguments)};return t.q=[],"/"!==e.charAt(e.length-1)&&(e+="/"),e+"mtc.js"},start:e=>{e.forEach((e=>v.mt("send",e)))}},f.twitterPixel={init:e=>{if(v.twq)return null;var t=v.twq=()=>{t.exe?t.exe.apply(t,arguments):t.queue.push(arguments)};return t.version="1.1",t.queue=[],t("init",e),"//static.ads-twitter.com/uwt.js"},start:e=>{e.forEach((e=>v.twq("track",e)))}},f.xiti={opts:null,init:e=>{"object"!=typeof e&&(e={id:e}),e.url||(e.url="logv2"),f.xiti.opts=e;let t,o,s="s="+e.id+"&p="+encodeURIComponent(b.location.pathname),n=new Date,i=v.screen;try{o=top.document.referrer}catch(e){o=document.referrer}return s+="&hl="+n.getHours()+"x"+n.getMinutes()+"x"+n.getSeconds(),parseFloat(navigator.appVersion)>=4&&(s+="&r="+i.width+"x"+i.height+"x"+i.pixelDepth+"x"+i.colorDepth),s+="&ref="+o.replace(/[<>"]/g,"").replace(/&/g,"$"),s+="&Rdt=On",t=new Image(39,25),t.src="http://"+e.url+".xiti.com/hit.xiti?"+s,null},track:(e,t,o)=>{let s,n=f.xiti.opts,i="s="+n.id+"&pclick="+encodeURIComponent(b.location.pathname),r=new Date;i+="&hl="+r.getHours()+"x"+r.getMinutes()+"x"+r.getSeconds(),i+="&click=A&p=discreto::"+e+"::"+t,void 0!==o&&(i+="::"+o),i+="&Rdt=On",s=new Image(39,25),s.src="http://"+n.url+".xiti.com/hit.xiti?"+i}},f.yahooDot=f.verizon={init:e=>(v.dotq=v.dotq||[],v.dotq.push({projectId:e.project,properties:{pixelId:e.id}}),"https://s.yimg.com/wi/ytc.js"),onload:e=>{var t,o=v.dotq;console.warn("special case",YAHOO);try{t=YAHOO.ywa.I13N.fireBeacon,v.dotq=[],v.dotq.push=function(e){t([e])},t(o),console.warn("now",v.dotq)}catch(e){}}},f.facebook={init:(e,t=!1)=>{let o=b.createElement("div"),s=t?"5.0":"3.0";return o.id="fb-root",b.body.appendChild(o),{crossorigin:"anonymous",id:"facebook-jssdk",src:"https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v"+s+"&appId="+e}}},f.linkedin={init:()=>"https://platform.linkedin.com/in.js"},f.pinterest={init:()=>"//assets.pinterest.com/js/pinit.js"},f.twitter={init:()=>"https://platform.twitter.com/widgets.js"},f.addthis={init:e=>"http://s7.addthis.com/js/300/addthis_widget.js#domready=1&pubid="+e,start:()=>v.addthis.init()},f.addtoany={init:()=>"https://static.addtoany.com/menu/page.js",start:()=>v.a2a.init_all()},f.sharethis={init:e=>"//platform-api.sharethis.com/js/sharethis.js#property="+e+"&product=custom-share-buttons"},f.dailymotion={init:()=>"https://api.dmcdn.net/all.js"},f.vimeo={init:()=>"https://player.vimeo.com/api/player.js"},f.youtube={init:()=>"https://www.youtube.com/iframe_api"},f.soundcloud={init:()=>"https://w.soundcloud.com/player/api.js"},f.adsense={init:(e,t)=>{var o=v.adsbygoogle=v.adsbygoogle||[];return o.push({google_ad_client:"ca-"+e,enable_page_level_ads:!0}),t&&(o.requestNonPersonalizedAds=1),"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"}},f.adwords={init:f.gtag.init,start:f.gtag.start},f.amazonAds={init:()=>"//z-na.amazon-adsystem.com/widgets/onejs"},f.criteo={init:()=>(v.criteo_q=v.criteo_q||[],"//static.criteo.net/js/ld/ld.js")},f.microsoftAds={init:e=>(v.uetq=v.uetq||[],f.microsoftAds.id=e,"//bat.bing.com/bat.js"),start:e=>{var t={ti:f.microsoftAds.id,q:v.uetq};v.uetq=new UET(t),e.forEach((e=>v.uetq.push(e)))}},f.linkedinInsight={init:e=>(v._linkedin_partner_id=e,v._linkedin_data_partner_ids=v._linkedin_data_partner_ids||[],v._linkedin_data_partner_ids.push(e),"https://snap.licdn.com/li.lms-analytics/insight.min.js")},f.disqus={init:e=>(v.disqus_config=function(){this.page.url=b.location.href,this.page.identifier=b.location.pathname},{"data-timestamp":+new Date,src:"https://"+e+".disqus.com/embed.js"}),start:e=>{let t=b.createElement("div");t.id="disqus_thread",b.getElementById(e[0]).appendChild(t)}},f.googleMaps={init:e=>"https://maps.googleapis.com/maps/api/js?key="+e},f.recaptcha={init:e=>"https://www.google.com/recaptcha/api.js?render="+e},f.recaptchaV2={init:()=>"https://www.google.com/recaptcha/api.js"},f.optimize={init:e=>"https://www.googleoptimize.com/optimize.js?id="+e};const y="first",k="cookie",w="remote",A="almost",x="prefs",P=[k,w],j={first:"discreto|prefs|incognito|cognito",cookie:"prefs|ok",remote:"discreto|prefs|incognito|keep",more:"deny|prefs|allow",almost:"deny|prefs|allow",prefs:"anonymous|ghost|save"},C={ghost:()=>D(!1),anonymous:()=>D(null),discreto:()=>D(null)&&R(),cognito:()=>D(!0)&&R(),incognito:()=>D(!1)&&R(),allow:()=>O(!0)&&R(),deny:()=>O(!1)&&R(),save:()=>R(),keep:()=>R(),prefs:()=>M(),cancel:()=>M(!1),show:()=>E(),ok:()=>E(!1)};let q,_,z=window,T=document,I={dnt:!1,lang:null,mode:null,popup:!1,show:!1,prefs:{},tags:{},level:1,proms:[],ban:!1};function S(e){return c(h,e),c(m,z.discretoLocale||{}),I.lang=p(m,h.gui.lang),_=m[I.lang],ne("lang:",I.lang),I.dnt="1"===z.navigator.doNotTrack,h.cookie.dnt&&(I.dnt=!0),z.addEventListener("message",L),ne("start"),function(){let e,t=h.gui.css;return null===t?Promise.resolve():(!1===t&&a(r("script"),(e=>{e.src&&e.src.match(/\/discreto(\.min)?\.js(\?|$)/)&&(t=e.src.replace(/\.js(\?|$)/,".css$1"))})),new Promise(((o,s)=>{e=l({tag:"link",atts:{rel:"stylesheet",href:t}}),e.addEventListener("load",o,!0),e.addEventListener("error",s,!0),i("head").appendChild(e)})))}().then(K).then((()=>function(){let e=h.cookie.name,t=new RegExp("(?:(?:^|.*;\\s*)"+e+"\\s*=\\s*([^;]*).*$)|^.*$"),o=T.cookie.match(t);return void 0===o[1]?Promise.reject():(F(o[1]),Promise.resolve())}().then((()=>B(k,"more")),(()=>(!h.cookie.share||I.dnt?Promise.reject():(u(q.box,"spring",!0),g(h.cookie.url).then((e=>(ne("fetch:",e.status),200!==e.status?(403===e.status&&Q(e.responseText),Promise.reject()):(F(e.responseText),!0)))).finally((()=>u(q.box,"spring",!1))))).then((()=>B(w,A)),(()=>Promise.resolve(y))))).then($).then(te).then(H).then(N))).catch((e=>{console.error("[discreto] loading failed, check config & locale"),ne(e)}))}function E(e=!0){return I.popup!==e&&(e||M(!1),I.popup=e,u(q.box,"min",!e),!0)}function M(e=!0){return e?(E(),J(x)):J(I.mode),e&&(I.mode===y?D(!!h.gui.urge||null):I.mode!==k&&O(!!h.gui.urge||null)),I.show!==e&&(I.show=e,u(q.box,"show",e)),!0}function L(e){let t=e.data,o=t.discreto;o&&(!0!==o?(t.force?I.prefs[o]=t.on:ee(o,t.on),t.force||t.once?te(!0):R(!0)):M())}function D(e,t=!1){return ne(t?"more:":"select:",e),a(h.services,((o,s)=>{t&&void 0!==I.prefs[o]||"_share"!==o&&(s.force||ee(o,null===e?!!s.anon:e))})),!0}function O(e){return D(e,!0)}function G(e){return ee(e.target.name,e.target.checked)}function V(e){let t=e.target.parentNode,o=e.target.getAttribute("data-name"),s="_discreto"===o?h.cookie:h.services[o];if(s){if(s.info)return ne("toggle:",o),void u(s.info,"rolled");s.info=l({tag:"div.info.rolled"}),t.parentNode.insertBefore(s.info,t.nextSibling),ne("info:",o),function(e,t){let o,s=h.cookie.url,n=t.about;return"_wild"===e?(o=h.cookie.wild.map((e=>"<li>"+e+"</li>")),Promise.resolve("<ul>"+o.join("")+"</ul>")):_.about&&_.about[e]?Promise.resolve(_.about[e]):n?(n instanceof Object&&(n=n[I.lang]||n[h.gui.lang]||_.unknown),Promise.resolve(n)):(ne("feed:",e),g(s+"/"+I.lang+"/"+e).then((e=>e.responseText)).catch((()=>Promise.resolve(_.msg.error))))}(o,s).then((e=>{e=e.replace(/{([^}]+)}/g,((e,t)=>h.cookie[t]||t)),s.info.innerHTML="<div>"+e+"</div>",setTimeout((()=>u(s.info,"rolled",!1)),20)}))}else ne("unknown:",o)}function R(e=!1){return ne("save"),a(I.prefs,((e,t)=>{let o=h.services[e];t&&o&&a(o.excl||[],(e=>{I.prefs[e]=!1}))})),$(k),te(!0),a(I.prefs,((e,t)=>{se("Service",e,1*t)})),function(){let e=h.cookie.name,t=e+"="+U(),o=new Date,s=e+"=",n=new Date,i=h.cookie.path||"/",r=T.location.hostname,a=r.replace(/^(?:.+\.)?([^\.]+\.[^\.]+)$/,"$1");r="."+r,n.setDate(n.getDate()-1),s+=";path="+i,s+=";expires="+n.toUTCString(),T.cookie=s+";sameSite=Strict;domain="+r,h.cookie.wild&&(T.cookie=s+";sameSite=Lax;domain="+a),o.setDate(o.getDate()+parseInt(h.cookie.days)),t+=";path="+i,t+=";expires="+o.toUTCString(),t+=";sameSite="+(I.prefs._wild?"Lax":"Strict"),t+=";domain="+(I.prefs._wild?a:r),T.cookie=t,ne("write:",t),Promise.resolve()}(),e||function(){let e="mask="+U()+"&days="+h.cookie.days;h.cookie.share&&I.prefs._share?g(h.cookie.url,"post",e).then((e=>(ne("post:",e.status),201===e.status||(403===e.status&&Q(e.responseText),Promise.reject(e))))).catch((e=>{console.error("[discreto] could not post shared preferences"),ne(e)})):Promise.resolve(!1)}(),E(!1),!0}function Y(e){let t,o=e.tagName.toLowerCase(),s=e.getAttribute("data-src"),n=e.getAttribute("data-class"),i=e.getAttribute("data-discreto");if("*"===i.charAt(i.length-1)){let e=new RegExp("^"+i+"($|-)"),o=Object.keys(I.prefs).filter((t=>t.match(e))).filter((e=>I.prefs[e]));t=!!o.length,i=i.substr(0,i.length-1)}else t=I.prefs[i];if(t)return ne("enabled:",s||o),void(s?(e.removeAttribute("data-discreto"),e.src=s):u(e,n,!0));ne("disabled:",s||o),s||u(e,n,!1),"iframe"===o&&function(e,t,o){let s,n,i,r=h.services[t],a=_.services[t]||t,c="javascript:window.parent.postMessage";r&&r.name&&(a=r.name,a instanceof Object&&(a=a[I.lang]||a[h.gui.lang]||t)),r?s=P.includes(I.mode)?"block":"choose":(ne("no pref:",t),s="undef"),i='<!doctype html><html><head><style>html,body{height:100%;margin:0;padding:0}body{display:flex;background-image:linear-gradient(135deg,whitesmoke 25%,white 25%,white 50%,whitesmoke 50%,whitesmoke 75%,white 75%,white 100%,whitesmoke 100%);background-size:60px 60px;justify-content:center;align-items:center;color:black;text-align:center;font:300 14px/1.4 "Helvetica Neue",Helvetica,Arial,sans-serif}big{font-size:3em}a{text-decoration:none;font-weight:600;color:inherit}</style></head><body><div>',n=o.replace(/\?.+$/,""),i+=_.msg[s].replace("{title}",a).replace("{src}",n),i+=r?'<a href="'+c+"({ discreto: '"+t+"', on: true, once: true }, '*')\">"+_.btns.once+'</a> | <a href="'+c+"({ discreto: '"+t+"', on: true }, '*')\">"+_.btns.always+"</a> | ":'<a href="'+c+"({ discreto: '"+t+"', on: true, force: true }, '*')\">"+_.btns.force+"</a> | ",i+='<a href="'+c+"({ discreto: true }, '*')\">"+_.btns.prefs+"</a>",i+="</div></body></html>",e.setAttribute("src","data:text/html;charset=UTF-8,"+i)}(e,i,s)}function H(){let e=h.gui.wait;if(!e)return Promise.resolve();if("string"==typeof e&&"px"===e.substr(-2)){let t=parseInt(e.substr(0,e.length-2));return ne("offset:",t),function(e){let t=T.body.scrollHeight,o=T.body.clientHeight,s=z.scrollY,n=Math.min(e,t-(o+s));return n?new Promise(((e,t)=>{let o=()=>{Math.abs(z.scrollY-s)<n||(z.removeEventListener("scroll",o),e())};z.addEventListener("scroll",o)})):Promise.resolve()}(t)}let t=1e3*parseFloat(e);return new Promise(((e,o)=>{ne("delay:",t),setTimeout(e,t)}))}function N(){let e=I.mode;P.includes(e)||E()}function $(e){ne("mode:",e),I.mode=e,J(e),X(e),ne("refresh"),a(I.prefs,ee),e===y&&D(!I.dnt&&null),e===A&&O(!I.dnt&&null)}function F(e){""!==e&&a(e.split("|"),(e=>{let t="-"!==e.charAt(0);t||(e=e.substr(1)),h.services[e]&&(I.prefs[e]=t)}))}function U(){let e=[];return a(I.prefs,((t,o)=>{e.push((o?"":"-")+t)})),e.join("|")}function B(e,t){let o,s=Object.keys(I.prefs);return o=Object.keys(h.services).filter((e=>"_share"!==e&&!s.includes(e))),o.length?(a(o,(e=>{a(q.items[e],(e=>{u(e.box,"new",!0)}))})),Promise.resolve(t)):Promise.resolve(e)}function K(){return q={},l({tag:"box:aside#discreto.min",evts:{click:C.show},child:[{tag:"div.overlay"},{tag:"div.popup",child:[{tag:"form:form.consent",child:[{tag:"div.main",child:[{tag:"logo:div.logo"},{tag:"head:div.head"},{tag:"prefs:div.prefs",child:[{tag:"mandatory:fieldset.field",child:[{tag:"div.item",child:[{tag:"label",child:[{tag:"input",atts:{type:"checkbox",checked:"checked",disabled:"disabled"}},{tag:"span",html:_.options.cookie}]},{tag:"i",atts:{"data-name":"_discreto"},evts:{click:V},html:_.btns.cookie}]}]},{tag:"foot:p.credits",html:_.msg.thanks}]}]},{tag:"btns:nav.btns",child:[{tag:"front:div.front"},{tag:"back:div.back"}]}]}]}]},q),I.dnt&&u(q.box,"dnt",!0),h.gui.block&&u(q.box,"block",!0),h.gui.hide&&u(q.box,"autohide",!0),h.gui.pos&&u(q.box,h.gui.pos,!0),h.gui.logo&&q.logo.appendChild(l({tag:"img",atts:{alt:"",src:h.gui.logo}})),h.cookie.wild&&(h.services._wild={name:_.options.domains,btn:_.btns.domains,types:["advanced"],anon:!0}),h.cookie.share&&(h.services._share={name:_.options.share,btn:_.btns.share,types:["advanced"]}),X(x),q.items={},a(h.services,W),f.box=q.box,T.body.appendChild(q.box),Promise.resolve()}function W(e,t){q.items[e]||(q.items[e]=[]),a(t.types,((o,s)=>{q[o]||function(e){l({tag:e+":fieldset.field."+e,child:[{tag:"legend",html:_.types[e]}]},q),q.prefs.insertBefore(q[e],q.foot)}(o);let n={},i={type:"checkbox",name:e},r=t.name||_.services[e]||e;r instanceof Object&&(r=r[I.lang]||r[h.gui.lang]||e),t.force&&(I.prefs[e]=!0,i.checked=!0,i.disabled=!0),l({tag:"box:div.item",child:[{tag:"label",child:[{tag:"check:input",evts:{change:G},atts:i},{tag:"span",html:r}]},{tag:"i",evts:{click:V},atts:{class:s?"none":"","data-name":e},html:t.btn||_.btns.about}]},n),q.items[e].push(n),q[o].appendChild(n.box)}))}function X(e){let t=j[e].split("|"),o=q[e===x?"back":"front"],s=e===y&&!I.dnt;for(;o.firstChild;)o.firstChild.remove();a(t,(e=>{let t="discreto"===e&&s?"continue":e;o.appendChild(l({tag:"button",atts:{type:"button"},evts:{click:()=>se("Button",e)&&C[e]()},html:_.btns[t]}))}))}function J(e){let t=_.msg[e],o=!0,s=!0,n=Z();e===y&&I.dnt&&(t=_.msg.dnt),e===k&&(a(I.prefs,((e,t)=>{let n=h.services[e];n&&(s&=!t,"_wild"!==e&&"_share"!==e&&(o&=!t||n.anon))})),s?t=_.msg.ghost:o&&(t=_.msg.anon)),t=t.replace(/{([^}]+)}/g,((e,t)=>n[t])),q.head.innerHTML=t}function Q(e){let t=l({tag:"div.info.misuse",html:e});q.advanced.appendChild(t),q.items._share[0].check.disabled=!0,ee("_share",!1),I.ban=!0}function Z(){let e,t=Object.keys(I.prefs),o=Object.keys(h.services),s=t.filter((e=>I.prefs[e]));return e=o.filter((e=>"_share"!==e&&!t.includes(e))),{total:o.length,active:s.length,more:e.length}}function ee(e,t){let o=h.services[e];return o?!(!q.items[e]||"_share"===e&&I.ban||(I.prefs[e]=t,a(q.items[e],(e=>{e.check.checked=t})),a(o.excl||[],(e=>{a(q.items[e],(o=>{o.check.disabled=t,o.check.checked=!t&&I.prefs[e]}))})),function(){let e=Z(),t=Math.ceil(5*e.active/e.total);t!==I.level&&(u(q.box,"cognito"+t,!0),u(q.box,"cognito"+I.level,!1),I.level=t)}(),0)):(ne("unknown:",e),!1)}function te(e=!1){let t={};return a(I.prefs,((o,s)=>{let n,i=h.services[o];s&&i&&i.tag&&(t[i.tag]||(t[i.tag]={args:[],cmds:[],services:[],anon:!1}),n=t[i.tag],n.services.push(i),n.anon|=i.anon,i.cmd&&n.cmds.push(i.cmd),e&&i.save?a(i.save.split(","),(e=>n.args.push(e.trim()))):i.load&&a(i.load.split(","),(e=>n.args.push(e.trim()))))})),a(t,oe),function(){let e=I.proms;ne("resolve"),I.proms=[],a(r("[data-discreto]"),Y),a(e,(e=>{let t=e.name;void 0===I.prefs[t]?I.proms.push(e):I.prefs[t]?e.resolve(t):e.reject(null)})),a(I.prefs,((e,t)=>{let o=new z.CustomEvent("discreto-"+e,{detail:t}),s=new z.CustomEvent("discreto",{detail:{name:e,on:t}});T.dispatchEvent(o),T.dispatchEvent(s)}))}(),Promise.resolve(!0)}function oe(e,t){let o,s,n=f[e],i=t.id||h.ids[e];if(n){if(!n.on){if(ne("append:",e),n.init){try{o=n.init(i,t.anon)}catch(t){ne("init failed:",e,t),o=null}o&&("string"==typeof o&&(o={src:o}),s=l({tag:"script",atts:{async:!0}}),a(o,((e,t)=>{"src"!==e&&s.setAttribute(e,t)})),n.onload&&(s.onload=n.onload(s)),s.src=o.src,(T.body||T.head).appendChild(s))}a(t.services,(e=>{e.track=n.track})),n.on=!0,n.sent=[]}if(a(t.cmds,(e=>e(i))),t.args=t.args.filter((e=>!n.sent.includes(e))),t.args.length)try{n.start&&n.start(t.args),n.sent.push.apply(n.sent,t.args)}catch(t){ne("start failed:",e,t)}}else ne("missing:",e)}function se(e,t,o){let s=h.cookie.track;return!s||("string"==typeof s&&(s=[s]),s.forEach((s=>{let n=h.services[s];n&&n.track&&(ne("track:",e,t,o),n.track(e,t,o))})),!0)}function ne(...e){h.debug&&(e.unshift("[discreto]"),n.apply(t,e))}z.discreto={start:S,clean:function(){q.box.parentNode.removeChild(q.box),delete q.box,I.mode=null,I.popup=!1,I.show=!1,I.prefs={},I.tags={},I.level=1,I.proms=[]},when:function e(t){return new Promise(((o,s)=>{if("*"===t.charAt(t.length-1)){let n,i=new RegExp("^"+t+"($|-)"),r=Object.keys(h.services).filter((e=>e.match(i))),a=r.filter((e=>I.prefs[e]));return r.length?a.length?o(a):P.includes(I.mode)?s(null):(n=r.map((t=>e(t).catch((()=>Promise.resolve(null))))),Promise.all(n).then((e=>e.filter((e=>I.prefs[e])))).then((e=>e.length?o(e):s(null)))):s(null)}return I.prefs[t]?o(t):P.includes(I.mode)?s(null):I.proms.push({name:t,resolve:o,reject:s})}))},update:function(e,t,o=!1){e&&(ee(e,t),o?R(!0):te(!0))},prefs:M,popup:E,mode:$,conf:h,state:I},z.addEventListener("load",(function(){if(!z.discretoConf)return Promise.resolve(!1);if("string"==typeof z.discretoConf){let e=z.discretoConf.match(/^gtm:\/\/([^\/]+)\/(.+)$/);return e?(ne("config: gtm"),oe("gtm",{id:e[1],args:[e[2]]}),Promise.resolve()):(ne("config: json"),g(z.discretoConf).then((e=>{if(200!==e.status)return Promise.reject(e.status);let t=JSON.parse(e.responseText);return t?S(t):Promise.reject(400)})))}return S(z.discretoConf)}),!0)})()})();